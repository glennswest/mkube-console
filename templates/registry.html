{% extends "layout.html" %}

{% block page_content %}
<h1 class="page-title">Registry</h1>
<p class="page-subtitle">Container images in the local registry</p>

{% if !available %}
<div class="empty-state">
  <h3>Registry not configured</h3>
  <p>Set registry.base_url in the console config to enable registry browsing.</p>
</div>
{% else if repos.is_empty() %}
<div class="empty-state">
  <h3>No repositories found</h3>
  <p>Push an image to the registry to see it here.</p>
</div>
{% else %}
<div class="card-grid">
  {% for repo in repos %}
  <div class="repo-card">
    <div class="repo-card-header">
      <div class="repo-card-name">{{ repo.name }}</div>
    </div>
    <div class="repo-card-stats">
      <div class="repo-card-stat">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg>
        {{ repo.tags.len() }} tags
      </div>
    </div>
    {% if !repo.tags.is_empty() %}
    <div class="repo-card-footer">
      {% for tag in repo.tags %}<span class="tag-badge">{{ tag }}</span> {% endfor %}
    </div>
    {% endif %}
  </div>
  {% endfor %}
</div>
{% endif %}
{% endblock %}
